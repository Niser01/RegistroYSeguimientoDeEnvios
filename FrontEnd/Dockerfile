# Etapa de build
FROM node:18 AS build

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .

RUN npm run build

# Etapa de producci칩n (usando nginx o http-server)
FROM node:18 AS production

WORKDIR /app

# Solo copiamos los archivos de producci칩n (dist)
COPY --from=build /app/dist ./dist

# Instalamos un servidor est치tico (puede ser http-server)
RUN npm install -g http-server

# Puerto que se expone
EXPOSE 4173

# Comando para servir el contenido est치tico
CMD ["http-server", "dist"]
